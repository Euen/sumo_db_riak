{erl_opts, [ warn_unused_vars
           , warn_export_all
           , warn_shadow_vars
           , warn_unused_import
           , warn_unused_function
           , warn_bif_clash
           , warn_unused_record
           , warn_deprecated_function
           , warn_obsolete_guard
           , strict_validation
           , warn_export_vars
           , warn_exported_vars
           , warn_missing_spec
           , warn_untyped_record
           , debug_info
           , {parse_transform, lager_transform}
           ]}.

{dialyzer, [ {warnings, [error_handling]}
           , {get_warnings, true}
           , {plt_apps, top_level_deps}
           , {plt_extra_apps, []}
           , {plt_location, local}
           , {base_plt_apps, [stdlib, kernel, crypto]}
           , {base_plt_location, global}
           ]}.

{ct_compile_opts, [ warn_unused_vars
                  , warn_export_all
                  , warn_shadow_vars
                  , warn_unused_import
                  , warn_unused_function
                  , warn_bif_clash
                  , warn_unused_record
                  , warn_deprecated_function
                  , warn_obsolete_guard
                  , strict_validation
                  , warn_export_vars
                  , warn_exported_vars
                  , warn_missing_spec
                  , warn_untyped_record
                  , debug_info
                  ]}.

{ct_opts, []}.

{deps, [ {riakc,   ".*", {git, "https://github.com/basho/riak-erlang-client.git", {tag, "2.1.2"}}}
       , {sumo_db, ".*", {git, "https://github.com/inaka/sumo_db.git",            {tag, "0.5.0"}}}
       , {iso8601, ".*", {git, "https://github.com/erlsci/iso8601.git",           {tag, "1.2"}}}]}.

{profiles, [{test, [{deps, [ {katana_test, ".*", {git, "https://github.com/inaka/katana-test.git", {tag, "0.0.6"}}}
                           , {mixer,       ".*", {git, "https://github.com/inaka/mixer.git",       {tag, "0.1.5"}}}]}]}]}.

{overrides, [ {override, rebar3_protobuffs_plugin, [{deps, [{protobuffs, {git, "git://github.com/basho/erlang_protobuffs.git", {tag, "0.8.2"}}}]}]}
            , {override, protobuffs, [{deps, []}]}
            , {override, riak_pb, [{plugins, [ {riak_pb_msgcodegen, {git, "git://github.com/tsloughter/riak_pb_msgcodegen", {branch, "master"}}}
                                             , {rebar3_protobuffs_plugin, {git, "git://github.com/cmkarlsson/rebar3_protobuffs_plugin", {tag, "0.1.1"}}}]},
                                   {provider_hooks, [{pre, [ {compile, {protobuffs, compile}}
                                                           , {compile, riak_pb_msgcodegen}
                                                           ]}]}]}
            ]}.